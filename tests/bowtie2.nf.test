nextflow_pipeline {

    name "Test pipeline with Bowtie2 aligner"
    script "../main.nf"
    tag "pipeline"

    test("Params: --aligner bowtie2") {

        when {
            params {
                outdir = "$outputDir"
                aligner = 'bowtie2'
            }
        }

        then {
            assert workflow.success
        }
    }

    test("Params: --aligner bowtie2 - stub") {

        options "-stub"

        when {
            params {
                outdir = "$outputDir"
                aligner = 'bowtie2'
            }
        }

        then {
            assert workflow.success
        }
    }
}
